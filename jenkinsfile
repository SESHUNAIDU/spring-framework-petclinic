node('MVN'){
    
    stage('GIT'){
        git branch: 'dev', url: 'https://github.com/SESHUNAIDU/spring-framework-petclinic.git'
    }
    stage('BUILD'){
        sh 'mvn install'
    }
	stage('Dummy'){
		sh 'pwd'
	}
    stage('Archive'){
		archive 'target//*.jar'
		junit 'target/surefire-reports/*.xml'
	}
	stage('sonar'){
			withSonarQubeEnv('sonarqube') {
				// requires SonarQube Scanner for Maven 3.2+
				sh 'mvn org.sonarsource.scanner.maven:sonar-maven-plugin:3.2:sonar'
			}
	}
}